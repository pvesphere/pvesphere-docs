# 高可用部署

PveSphere 支持高可用部署，确保服务稳定运行。

## 高可用架构

```
┌─────────────────────────────────────┐
│         Load Balancer                │
└───────────┬─────────────────────────┘
            │
    ┌───────┴───────┐
    │               │
┌───▼───┐      ┌───▼───┐
│ API 1 │      │ API 2 │
└───┬───┘      └───┬───┘
    │               │
    └───────┬───────┘
            │
    ┌───────▼───────┐
    │   Database    │
    │  (Master-Slave)│
    └───────────────┘
```

## 组件高可用

### API 服务

- **多实例**: 运行多个 API 服务实例
- **负载均衡**: 使用负载均衡器分发请求
- **健康检查**: 自动剔除不健康的实例

### 数据库

- **主从复制**: MySQL 主从复制
- **读写分离**: 读操作访问从库
- **自动故障转移**: 主库故障时自动切换

### Redis

- **哨兵模式**: Redis Sentinel
- **集群模式**: Redis Cluster
- **自动故障转移**: 自动切换主节点

## 监控告警

- **服务监控**: 监控服务健康状态
- **资源监控**: 监控 CPU、内存等资源
- **告警通知**: 异常时及时通知

## 备份恢复

- **数据备份**: 定期备份数据库
- **配置备份**: 备份配置文件
- **快速恢复**: 支持快速恢复服务

